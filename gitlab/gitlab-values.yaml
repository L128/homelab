## 基础配置
global:
  hosts:
    # 全局域名设置为 homelab.me
    domain: app.homelab.me
    # 为 GitLab 主服务指定完整主机名（覆盖默认的 gitlab.${domain}）
    gitlab:
      host: gitlab.app.homelab.me
    # 如果需要其他服务（如 registry、pages 等）也使用该域名前缀，可类似配置
    registry:
      host: registry.app.homelab.me
    pages:
      host: pages.app.homelab.me
    minio:
      host: minio.app.homelab.me
    # 保持 HTTPS 启用（根据实际环境可调整）
    https: true

  # 禁用内置 Ingress 配置，使用 Traefik IngressRoute
  ingress:
    configureCertmanager: false  # 禁用内置 cert-manager 配置
    provider: none               # 不使用内置 Ingress 控制器
    enabled: true                # 保留基础路由配置（供服务发现）
    tls:
      enabled: false             # 由 Traefik + cert-manager 管理 TLS

  # 其他基础配置（根据需求调整）
  edition: ce  # 使用社区版
  gitlabVersion: "18.2.1"  # 保持与模板一致的版本

  minio:
    enabled: true  # 如需外部对象存储，设为 false 并配置 global.appConfig.object_store

# 禁用内置组件（如需）
nginx-ingress:
  enabled: false  # 禁用内置 Nginx Ingress

## Settings for the Let's Encrypt ACME Issuer
certmanager-issuer:
#   # The email address to register certificates requested from Let's Encrypt.
#   # Required if using Let's Encrypt.
  email: dummy@email.com
## 组件配置（按需启用/调整）
installCertmanager: false      # 禁用内置 cert-manager 安装

gitlab:
  webservice:
    enabled: true
    # 如需自定义资源限制，可添加：
    # resources:
    #   requests:
    #     cpu: 500m
    #     memory: 1Gi
    #   limits:
    #     cpu: 1000m
    #     memory: 2Gi

## 禁用不需要的内置服务（如已使用外部服务）
postgresql:
  enabled: true  # 如需外部 PostgreSQL，设为 false 并配置 global.psql
redis:
  install: true  # 如需外部 Redis，设为 false 并配置 global.redis

## Pages 配置（如需启用）
pages:
  enabled: false  # 根据需求启用
  # 如需启用，需额外创建对应的 IngressRoute

## 邮件配置（按需配置）
global:
  smtp:
    enabled: false  # 启用后需填写 SMTP 信息
    # address: smtp.example.com
    # port: 587
    # user_name: your-email@example.com
    # password:
    #   secret: "smtp-password-secret"
    #   key: password

  # 初始管理员密码（建议通过 secret 配置）
  # initialRootPassword:
  #   secret: "gitlab-initial-root-password"  # 提前创建的 secret 名称
  #   key: password